(function(){var e=Object.prototype;var r=e.hasOwnProperty;var n=e.toString;var t=1/0;var a=4294967295;var u=9007199254740991;var o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/;var i=/^\w*$/;var l=".".charCodeAt(0);var p=/\\(\\)?/g;var y=/[^.[\]]+|\[(?:([^"'][^[]*)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;function f(e,n){return null!=e&&r.call(e,n)}function v(e){if(null==e){return void 0===e?"[object Undefined]":"[object Null]"}else{return n.call(e)}}function c(e){return"[object Array]"==v(e)}function s(e,r){if(c(e)){return e}else{return function(e,r){if(c(e)){return false}var n=typeof e;if("number"===n||"boolean"===n||null==e){return true}else{return function(){var e=-1;var r=arguments.length;for(;++e<r;){if(arguments[e]){return true}}return false}(i.test(e),!o.test(e),null!=r&&e in Object(r))}}(e,r)?[e]:function(e){var r=[];if(e.charCodeAt(0)===l){r.push("")}e.replace(y,(function(e,n,t,a){var u=e;if(t){u=a.replace(p,"$1")}else if(n){u=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}(n)}r.push(u)}));return r}(e)}}function k(e){if("string"==typeof e){return e}var r="".concat(e);return"0"==r&&1/e==-t?"-0":r}function T(e,r,n){var t=null==e?void 0:function(e,r){var n=s(r,e);var t=0;var a=n.length;for(;null!=e&&t<a;){e=e[k(n[t++])]}return t&&t==a?e:void 0}(e,r);return void 0===t?n:t}function m(){return true}function g(e,r){var n=-1;var t=null==e?0:e.length;var a=new Array(t);for(;++n<t;){a[n]=r(e[n],n,e)}return a}function S(e,r){var n=-1;var t=e.length;for(;++n<t&&false!==r(e[n],n,e);){}return e}function I(e){var r=typeof e;return"string"===r||"object"===r&&null!=e&&!c(e)&&"[object String]"==v(e)}function A(e){return function(r){return null!=r&&r instanceof e}}var b=parseFloat(app.version)>22.5;var d=[6612,6613,6614];var h={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};var O=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;var C=new RegExp(O.source);var j=A(CompItem);var E=A(MaskPropertyGroup);var K=A(PropertyGroup);function V(e){return K(e)||E(e)||function(e){return f(e,"containingComp")&&j(e.containingComp)&&null===e.parentProperty&&0===e.propertyDepth}(e)}var z=A(Property);function B(e){var r=function(e){return function(e,r){var n=-1;var t=0;var a=null==e?0:e.length;var u=[];for(;++n<a;){var o=e[n];if(r(o,n,e)){u[t++]=o}}return u}(d,(function(r){return e.isInterpolationTypeValid(r)}))}(e);return 1===r.length&&r[0]===KeyframeInterpolationType.HOLD}var L=(w=["project","activeItem","selectedLayers","0"],function(){return T(app,w)});var w;function R(e,r){var n="function"==typeof r?r:m;var t=e.isSpatial;var o=function(e){return e.propertyValueType===PropertyValueType.CUSTOM_VALUE}(e);var i=[];!function(e,r){if(e<1||e>u){return[]}var n=-1;var t=Math.min(e,a);var o=new Array(t);for(;++n<t;){o[n]=r(n)}n=a;e-=a;for(;++n<e;){r(n)}}(e.numKeys,(function(r){var a=r+1;if(n(e,a)){i.push(function(e,r,n,t){return{property:e,keyTime:e.keyTime(r),keyValue:t?null:e.keyValue(r),keySelected:e.keySelected(r),keyInTemporalEase:e.keyInTemporalEase(r),keyOutTemporalEase:e.keyOutTemporalEase(r),keyTemporalContinuous:e.keyTemporalContinuous(r),keyTemporalAutoBezier:e.keyTemporalAutoBezier(r),keyInInterpolationType:e.keyInInterpolationType(r),keyOutInterpolationType:e.keyOutInterpolationType(r),keyInSpatialTangent:n?e.keyInSpatialTangent(r):null,keyOutSpatialTangent:n?e.keyOutSpatialTangent(r):null,keySpatialAutoBezier:n?e.keySpatialAutoBezier(r):null,keySpatialContinuous:n?e.keySpatialContinuous(r):null,keyRoving:n?e.keyRoving(r):null,keyLabel:b?e.keyLabel(r):null}}(e,a,t,o))}}));return i}function P(e,r){return 0<r&&r<=e.numProperties?e.property(r):null}function x(e,r){var n=0;var t=r.length;var a=e;for(;a&&V(a)&&n<t;){var u=r[n++];a=I(u)?a.property(u):P(a,u)}return n&&n===t?a:void 0}var D=A(AVLayer);var M=A(ShapeLayer);var U=A(TextLayer);function F(e){return D(e)||M(e)||U(e)}function G(e,r,n,t,a){return n?e+"\n"+n+r.join(",\n"+n)+"\n"+t+a:e+r.join(",")+a}function H(e){return C.test(e)?'"'+N(e)+'"':'"'+e+'"'}function N(e){return e.replace(O,(function(e){var r=f(h,e)?h[e]:void 0;return I(r)?r:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}(e)}))}function _(e){return function(e){return function(e){return"object"==typeof e&&null!==e}(e)&&"[object Date]"==v(e)}(e)?e.toString():e.valueOf()}function q(e,r,n){var t=n;var a=(n+=r)?": ":":";var u=[];!function(e,r){for(var n in e){if(f(e,n)){if(false===r(e[n],n,e)){break}}}}(e,(function(e,t){u.push(H(t)+a+J(e,r,n))}));return 0===u.length?"{}":G("{",u,n,t,"}")}function J(e,r,n){if(null==e){return"null"}var t=_(e);switch(typeof t){case"string":return H(t);case"number":return isFinite(t)?String(t):"null";case"boolean":return String(t);case"object":return c(t)?function(e,r,n){var t=n;n+=r;var a=[];S(e,(function(e,t){a[t]=J(e,r,n)}));return 0===a.length?"[]":G("[",a,n,t,"]")}(t,r,n):q(t,r,n);case"function":return'"'+N(t.toString())+'"';default:return"null"}}function Q(e){return g(e,(function(e){var r=e.speed;var n=e.influence;return new KeyframeEase(r,0===n?.1:n)}))}function W(e,r){if(0!==e.length){var n=e[0].property;var t=z(r)?r:n;if(t.propertyValueType!==n.propertyValueType){throw new Error("Incompatible property Value types")}S(e,(function(e){var r=e.keyTime;var n=e.keyValue;t.setValueAtTime(r,n)}));S(e,(function(e){var r=t.nearestKeyIndex(e.keyTime);var n=e.keyInSpatialTangent;var a=e.keyOutSpatialTangent;var u=e.keySpatialAutoBezier;var o=e.keySpatialContinuous;var i=e.keyRoving;var l=Q(e.keyInTemporalEase);var p=Q(e.keyOutTemporalEase);var y=e.keyTemporalContinuous;var f=e.keyTemporalAutoBezier;var v=e.keyInInterpolationType;var c=e.keyOutInterpolationType;var s=e.keyLabel;if(t.isSpatial){t.setSpatialTangentsAtKey(r,n,a);t.setSpatialAutoBezierAtKey(r,u);t.setSpatialContinuousAtKey(r,o);t.setRovingAtKey(r,i)}if(function(e){return!B(e)}(t)){t.setTemporalEaseAtKey(r,l,p)}t.setTemporalContinuousAtKey(r,y);t.setTemporalAutoBezierAtKey(r,f);t.setInterpolationTypeAtKey(r,v,c);if(b){t.setLabelAtKey(r,s)}t.setSelectedAtKey(r,e.keySelected)}))}}function X(e){return g(R(e),(function(e){return{keyTime:e.keyTime,keyValue:e.keyValue,keySelected:e.keySelected,keyInTemporalEase:e.keyInTemporalEase,keyOutTemporalEase:e.keyOutTemporalEase,keyTemporalContinuous:e.keyTemporalContinuous,keyTemporalAutoBezier:e.keyTemporalAutoBezier,keyInInterpolationType:e.keyInInterpolationType,keyOutInterpolationType:e.keyOutInterpolationType,keyInSpatialTangent:e.keyInSpatialTangent,keyOutSpatialTangent:e.keyOutSpatialTangent,keySpatialAutoBezier:e.keySpatialAutoBezier,keySpatialContinuous:e.keySpatialContinuous,keyRoving:e.keyRoving,keyLabel:e.keyLabel}}))}var Y=function(){Y=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++){r=arguments[n];for(var a in r){if(Object.prototype.hasOwnProperty.call(r,a)){e[a]=r[a]}}}return e};return Y.apply(this,arguments)};var Z=(ee=app.project.activeItem,j(ee)?ee:void 0);var ee;var re=L();var ne=null==Z?void 0:Z.layer(1);if(re&&ne&&F(re)&&F(ne)){var te=x(re,["timeRemap"]);var ae=x(ne,["timeRemap"]);if(z(te)&&z(ae)){ne.timeRemapEnabled=true;ue=ae,W(g(X(te),(function(e){return Y(Y({},e),{property:ue})})));$.writeln(function(e,r){if(void 0===r){r=4}return J(e,I(r)?r:function(e){var r="",n=-1;for(;++n<e;){r+=" "}return r}(r),"")}(X(re.marker)))}}var ue}).call(this);
